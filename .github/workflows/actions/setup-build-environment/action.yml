name: 'Setup Build Environment'
description: 'Setup JDK and generate property file (assumes code already checked out)'

inputs:
  use_dummy_keys:
    description: 'Whether to use dummy keys instead of real secrets'
    required: false
    default: 'false'

runs:
  using: 'composite'
  steps:
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: 17
        distribution: 'temurin'
        cache: 'gradle'

    - name: Generate property file
      uses: ./.github/workflows/actions/setup-property-file
      with:
        use_dummy_keys: ${{ inputs.use_dummy_keys }}
